<<<<<<< HEAD
/// <reference types="node" />
import { EventEmitter } from 'events';
import { ScriptMetadata } from '../commands';
import { ConnectionOptions, RedisClient } from '../interfaces';
export declare class RedisConnection extends EventEmitter {
    private readonly shared;
    private readonly blocking;
    static minimumVersion: string;
    protected _client: RedisClient;
    private readonly opts;
    private initializing;
    private closing;
    private version;
    private handleClientError;
    private handleClientClose;
    constructor(opts?: ConnectionOptions, shared?: boolean, blocking?: boolean);
    private checkBlockingOptions;
    private checkUpstashHost;
=======
import { EventEmitter } from 'events';
import { ConnectionOptions, RedisClient } from '../interfaces';
interface RedisCapabilities {
    canDoubleTimeout: boolean;
    canBlockFor1Ms: boolean;
}
export interface RawCommand {
    content: string;
    name: string;
    keys: number;
}
export declare class RedisConnection extends EventEmitter {
    private readonly extraOptions?;
    static minimumVersion: string;
    static recommendedMinimumVersion: string;
    closing: boolean;
    capabilities: RedisCapabilities;
    status: 'initializing' | 'ready' | 'closing' | 'closed';
    protected _client: RedisClient;
    private readonly opts;
    private readonly initializing;
    private version;
    protected packageVersion: string;
    private skipVersionCheck;
    private handleClientError;
    private handleClientClose;
    private handleClientReady;
    constructor(opts: ConnectionOptions, extraOptions?: {
        shared?: boolean;
        blocking?: boolean;
        skipVersionCheck?: boolean;
        skipWaitingForReady?: boolean;
    });
    private checkBlockingOptions;
>>>>>>> 5e3222a0 (Initial commit for Agriconnect Kenya project)
    /**
     * Waits for a redis client to be ready.
     * @param redis - client
     */
    static waitUntilReady(client: RedisClient): Promise<void>;
    get client(): Promise<RedisClient>;
<<<<<<< HEAD
    protected loadCommands(cache?: Map<string, ScriptMetadata>): Promise<void>;
    private init;
    disconnect(): Promise<void>;
    reconnect(): Promise<void>;
    close(): Promise<void>;
    private getRedisVersion;
    get redisVersion(): string;
}
=======
    protected loadCommands(packageVersion: string, providedScripts?: Record<string, RawCommand>): void;
    private init;
    disconnect(wait?: boolean): Promise<void>;
    reconnect(): Promise<void>;
    close(force?: boolean): Promise<void>;
    private getRedisVersion;
    get redisVersion(): string;
}
export {};
>>>>>>> 5e3222a0 (Initial commit for Agriconnect Kenya project)
