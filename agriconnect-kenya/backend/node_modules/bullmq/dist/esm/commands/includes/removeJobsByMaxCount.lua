--[[
  Functions to remove jobs by max count.
]]

-- Includes
--- @include "removeJob"

local function removeJobsByMaxCount(maxCount, targetSet, prefix)
  local start = maxCount
  local jobIds = rcall("ZREVRANGE", targetSet, start, -1)
  for i, jobId in ipairs(jobIds) do
<<<<<<< HEAD
    removeJob(jobId, false, prefix)
=======
    removeJob(jobId, false, prefix, false --[[remove debounce key]])
>>>>>>> 5e3222a0 (Initial commit for Agriconnect Kenya project)
  end
  rcall("ZREMRANGEBYRANK", targetSet, 0, -(maxCount + 1))
end
