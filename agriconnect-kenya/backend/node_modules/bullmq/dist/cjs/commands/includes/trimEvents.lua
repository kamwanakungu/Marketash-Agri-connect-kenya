--[[
  Function to trim events, default 10000.
]]

<<<<<<< HEAD
local function trimEvents(metaKey, eventStreamKey)
  local maxEvents = rcall("HGET", metaKey, "opts.maxLenEvents")
  if maxEvents ~= false then
=======
-- Includes
--- @include "getOrSetMaxEvents"

local function trimEvents(metaKey, eventStreamKey)
  local maxEvents = getOrSetMaxEvents(metaKey)
  if maxEvents then
>>>>>>> 5e3222a0 (Initial commit for Agriconnect Kenya project)
    rcall("XTRIM", eventStreamKey, "MAXLEN", "~", maxEvents)
  else
    rcall("XTRIM", eventStreamKey, "MAXLEN", "~", 10000)
  end
end
